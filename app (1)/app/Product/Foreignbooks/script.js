const book = [
  {
    title: "The King and the Consul : A British Tragedy in Old Siam",
    author: "Simon Landy",
    publisher: "River Books",
    description:
      "The King and the Consul : A British Tragedy in Old Siam In 1856, just months after Britain and Siam had finalised the historic Bowing trade treaty that would prevent the country's colonisation, the violent death of a Siamese official at the new British consulate threatened to scuttle the deal and lead to war. The King and the Consul explores UK and Thai archives to reveal the twists, turns and tensions of this little-known official Thai attitudes to foreign ownership of land up to today.",
    image: "./img/1000245561_front_XXL.jpg",
    price: 755.25,
  },
  {
    title: "Collins English for Exams PRACTICE TESTS FOR THE TOEIC TEST",
    author: "HARPER COLLINS",
    publisher: "HARPER COLLINS UK",
    description:
      "All you need to reach the TOEIC score you're aiming for Four complete TOEIC tests for the Listening and Reading paper and Speaking and Writing paper. A clear guide to each part of the TOEIC test. Strategies for doing well in the test. Online audio for realistic Speaking and Listening papers. Answers for all four sections, including model answers for Speaking and Writing.",
    image: "./img/1000229429_front_XXL.jpg",
    price: 629.1,
  },
  {
    title: "The Happiness of Kati (ความสุขของกะทิ)",
    author: "Jane Vejjajiva (งามพรรณ เวชชาชีวะ)",
    publisher: "แพรวสำนักพิมพ์",
    description:
      "The Happiness of Kati (ความสุขของกะทิ) A bestseller in Thailand, this poignant and beautifully written novel is the story of a 9-year-old girl whose mother is suffering from an incurable illness. Kati's spirited responese to the challenges she faces and the evocative Thai setting make this poetic novel especially memorable..",
    image: "./img/1000219370_front_XXL.jpg",
    price: 250.75,
  },
  {
    title: "U Sing A Practical Guidebook for Singers",
    author: "อักษรา (Aarksara)",
    publisher: "อักษรา Aarksara",
    description:
      " U Sing A Practical Guidebook for Singers Good days, SING! Not so good days, SING! Never stop SINGING! -Aarksara-",
    image: "./img/1000204810_front_XXL.jpg",
    price: 315.0,
  },
  {
    title: "Kitten Catastrophe",
    author: "Anna Wilson",
    publisher: "Macmillan UK",
    description:
      " Help! My kitten, Jaffa, has changed overnight from purr-fect pet to ferocious furball. Something's scaring her and I've got to find out what before we have a CAT-ASTROPHE! Thank goodness Jazz and Fergus are here to lend a hand ...The third heart-warmingly funny adventure in the Kitten Chaos series",
    image: "./img/1000186877_front_XXL.jpg",
    price: 328.5,
  },
  {
    title: "The Top Secret (english version)",
    author: "Dr.Som Sujeera",
    publisher: "อมรินทร์ธรรมะ",
    description:
      "เดอะ ท็อป ซีเคร็ต อธิบายถึงกระบวนการทำงานของกฎแห่งแรงดึงดูดของความคิด ในหนังสือ เดอะซีเคร็ต The Secret หนังสือขายดีของสำนักพิมพ์อมรินทร์ แต่มักจะมีคำถามและข้อสงสัย หากผู้อ่านอ่านไม่ละเอียดหรือตีความพลาดไปเดอะ ท็อป ซีเคร็ต ได้ตีความและอธิบายเรื่องความคิดและกฎแห่งแรงดึงดูดผ่านเรื่องของจิตวิทยา และธรรมวิทยาศาสตร์ ที่คุณหมอเชี่ยวชาญเรื่องที่เด่นในเดอะ ท็อป ซีเคร็ต คือ การอธิบายการทำงานของจิต (ความรู้สึกนึกคิด จิตใต้สำนึก ความกลัว ความเชื่อ) เพื่อสร้าง “ภาพแห่งความรู้สึก” โดยในหนังสือได้อธิบายว่าหากเราสามารถควบคุมจิตเพื่อสร้างภาพแห่งความสำเร็จที่เราต้องการได้ ทุกอย่างจะเป็นจริงเสมอ",
    image: "./img/1000082198_front_XXL.jpg",
    price: 301.75,
  },
  {
    title: "Lift and Learn: In the Ocean",
    author: "Silver Dolphin",
    publisher: "Ingram",
    description:
      "Illustrated by award-winning wildlife artist Maurice Pledger, Lift and Learn : In the Ocean is a colorful introduction to the world's oceans and their shoers. Splash through the oceans with a host of animal friends, and lift the flaps for adorable surprises on every page!",
    image: "./img/1000198704_front_XXL.jpg",
    price: 688.5,
  },
  {
    title: "The Nature Timeline Wallbook",
    author: "What on Earth",
    publisher: "Bounce",
    description:
      "The Astonishing Natural History of the Earth, from the Dawn of Life to the Present Day.",
    image: "./img/1000198742_front_XXL.jpg",
    price: 769.5,
  },
  {
    title: "The Mortifying Life of Skye Green : The Parent Problem",
    author: "Anna Wilson",
    publisher: "Macmillan UK",
    description:
      "Skye Green's mum is driving her insane! When she's not posting EMBARRASSING pictures of Skye online or experimenting with BIZARRE clothing, she's forever taking up new hobbies - and her latest obsession is ballroom dancing! It's only a matter of time until she waltzes down the street in spandex and sequins - and to make matters worse, Skye's younger brother is wildly (and irritatingly) enthusiastic about Mum's new hobby, and about wearing Mum's sparkly new outfits! As if this wasn't HORRIFIC enough, Skye's mum has also enlisted the new neighbour's son to come and 'babysit' when she's at dance class, and he's only a year older than Skye! Talk about MORTIFYING in the EXTREME! At least Skye's best friend, Aubrey is there to help Skye cope with her family's madness. They've been friends since before they can remember, and nothing will ever, EVER change that ...right?",
    image: "./img/1000186857_front_XXL.jpg",
    price: 328.5,
  },
  {
    title: "WHAT WOULD THE GREAT ECONOMISTS TELL US AT SUPPER?",
    author: "Rosita Phol",
    publisher: "ROSITA BOOKS",
    description:
      "Very easy to read and connects the economic theory to real-life events. Rosita has joined and simplified the complex economic theory with an effortless style of real-life events from a view of Generation Z. This a highly recommended read for young students who want to demystify economic concepts.",
    image: "./img/1000265396_front_XXL.jpg",
    price: 255.0,
  },
];
const bookContainer = document.getElementById("book-container");
bookContainer.innerHTML = book
  .map(
    (item, index) => `
    <div key="${index}" class="border rounded-lg shadow-lg bg-white px-4 py-2 h-full flex flex-col justify-between mx-auto max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg">
        <div class="flex justify-center">
            <img class="object-cover w-32 h-40 sm:w-40 sm:h-52 md:w-48 md:h-60 rounded-lg mb-4" src="${
              item.image
            }" alt="${item.title}">
        </div>
        <div class="px-2 ">
            <p class="text-primary font-bold text-md sm:text-lg mb-1 hover:underline cursor-pointer" onclick="showDetails(${index})">${
      item.title
    }</p>
            <p class="text-xs sm:text-sm text-gray-600 mb-2">${item.author}</p>
            <p class="text-gray-800 text-xs sm:text-sm mb-2">${item.description.slice(
              0,
              60
            )}...</p>
            <div class="flex items-center mb-2">
                <i class="ri-star-fill text-yellow-500"></i>
                <p class="text-primary text-xs sm:text-sm ml-2">(${
                  item.rating
                })</p>
            </div>
            <p class="text-primary font-semibold text-sm sm:text-lg mb-2">ราคา ${
              item.price
            } บาท</p>
        </div>
        <div class="flex flex-col space-y-2">
            <div class="flex justify-center space-x-2 mt-2">
                <button 
                onclick="addToCart(${index})"
                class="bg-primary text-white rounded-full px-2 sm:px-3 py-1 sm:py-2 text-xs sm:text-sm flex items-center hover:bg-purple-700 transition-colors duration-200">
                    <i class="ri-shopping-cart-fill mr-1"></i> เพิ่มลงตะกร้า
                </button>
                <div class="flex items-center cursor-pointer text-primary hover:text-red-500 transition-colors duration-200">
                    <i class="ri-heart-line text-base sm:text-lg mr-1"></i>
                    <p class="text-xs sm:text-sm">เพิ่มลงรายการโปรด</p>
                </div>
            </div>
        </div>
    </div>
`
  )
  .join("");

function showDetails(index) {
  const bookDetail = book[index];

  const params = new URLSearchParams({
    title: bookDetail.title,
    author: bookDetail.author,
    publisher: bookDetail.publisher,
    description: bookDetail.description,
    image: bookDetail.image,
    price: bookDetail.price,
  });
  const Url = `detail.html?${params}`;
  window.location.href = Url;
}